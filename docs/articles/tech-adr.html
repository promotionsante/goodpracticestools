<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Architecture Decision Records • goodpracticestools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Architecture Decision Records">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">goodpracticestools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    User articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    </li>
<li class="dropdown-header">Data preparation</li>
    <li>
      <a href="../articles/how-to-prepare-data-for-statistical-analysis.html">How to prepare data for statistical analysis</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Data analysis</li>
    <li>
      <a href="../articles/how-to-explore-the-projects-graphically.html">How to explore the projects graphically</a>
    </li>
    <li>
      <a href="../articles/how-to-obtain-a-typology-of-projects.html">How to obtain a typology of projects</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tech articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    </li>
<li class="dropdown-header">Development</li>
    <li>
      <a href="../articles/tech-how-to-maintain-this-package.html">How to maintain this package</a>
    </li>
    <li>
      <a href="../articles/coverage-report.html">Coverage report</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Other elements of documentation</li>
    <li>
      <a href="../articles/tech-adr.html">Architecture Decisions Records</a>
    </li>
    <li>
      <a href="../articles/tech-deps.html">Dependencies Licenses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Architecture Decision Records</h1>
            
      

      <div class="hidden name"><code>tech-adr.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="adr002-management-of-external-model-dependencies-in-ci">ADR002: Management of external model dependencies in CI<a class="anchor" aria-label="anchor" href="#adr002-management-of-external-model-dependencies-in-ci"></a>
</h2>
<div class="section level4">
<h4 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h4>
<p>Contrary to the initial intention, we cannot have the full CI process
because, in the vignettes of the package and unit tests, we call the NLP
model <strong>SpaCy</strong> (Python) and the LLM
<strong>Ollama</strong>. While this works well locally, it requires
additional configuration to work properly in the CI (GitHub
workflow).</p>
</div>
<div class="section level4">
<h4 id="decision">Decision<a class="anchor" aria-label="anchor" href="#decision"></a>
</h4>
<p>A code coverage report and vignettes are generated locally and
included in the <code>pkgdown</code> site before each push to the
<code>main</code> branch of the GitHub repository. The
<code>pkgdown</code> site is then deployed based on this local
build.</p>
<p>Unit tests that involve Python models are marked with
<code>skip_on_ci()</code>, and vignettes are not built during
<code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code> in the CI. However, everything is run and
verified locally before pushing to the GitHub repo.</p>
<p>Instructions for this process are included in the file
<code>dev/check_and_config_before_merge.R</code>.</p>
</div>
<div class="section level4">
<h4 id="risks">Risks<a class="anchor" aria-label="anchor" href="#risks"></a>
</h4>
<ul>
<li><p>There is a risk of manual build steps being forgotten before
pushing</p></li>
<li><p>By not running these tests in the CI, potential compatibility
issues for some operating systems (notably Windows and Linux) may go
undetected, as development is locally done on macOS</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="adr001-management-of-two-languages-fr-and-de-in-data-analysis">ADR001: Management of two languages (FR and DE) in data
analysis<a class="anchor" aria-label="anchor" href="#adr001-management-of-two-languages-fr-and-de-in-data-analysis"></a>
</h2>
<div class="section level4">
<h4 id="background-1">Background<a class="anchor" aria-label="anchor" href="#background-1"></a>
</h4>
<p>The HTML overview must be available in two languages (French and
German) because the recipients in the Swiss cantons speak one of these
two languages.</p>
<p>The data on the projects (in XLSX format) is available in both French
and German, with the extraction having been done from the PSCH
organization’s data software.</p>
<p>The question arises of how to manage both files in parallel during
data analysis, especially since marginal differences —though still
differences— were observed in the raw data.</p>
<p><em>Note: The existence of differences was identified by performing
Factor Analysis on each of the raw datasets. The eigenvalues from these
two analyses were not strictly identical, indicating differences in the
raw data.</em></p>
</div>
<div class="section level4">
<h4 id="decision-1">Decision<a class="anchor" aria-label="anchor" href="#decision-1"></a>
</h4>
<p>The analyses (graphs, factor analyses, classification, interpretation
of classes) will be carried out using <strong>only the French raw
dataset</strong>. These will <strong>then be translated into
German</strong>, as the translations required are expected to be
marginal. However, the raw tables displayed in the summary will show the
French raw data on one side and the German raw data on the other, in
order to avoid the complexity of translation at this stage.</p>
</div>
<div class="section level4">
<h4 id="risks-1">Risks<a class="anchor" aria-label="anchor" href="#risks-1"></a>
</h4>
<ul>
<li><p>There may be poor translation in German for statistical
analyses</p></li>
<li><p>The German results may not align perfectly with the DE raw
data</p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Margot Brard.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
